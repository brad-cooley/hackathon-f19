(this["webpackJsonphot-list"]=this["webpackJsonphot-list"]||[]).push([[0],{58:function(e,t,a){e.exports=a(80)},63:function(e,t,a){},64:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),c=a.n(r),i=(a(63),a(64),a(123)),l=a(9),s=a(109),u=a(111),m=a(112),d=a(113),h=a(44),p=a(11),f=a(47),g=a.n(f),v=Object(h.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,display:"block"},search:Object(l.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(p.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(p.b)(e.palette.common.white,.25)},marginLeft:0,width:"50%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));function b(){var e=v();return o.a.createElement("div",{className:e.root},o.a.createElement(s.a,{position:"static"},o.a.createElement(u.a,null,o.a.createElement(m.a,{edge:"start",color:"inherit","aria-label":"open drawer"},o.a.createElement(g.a,null)),o.a.createElement(d.a,{className:e.title,variant:"h6",noWrap:!0},"Hot List"))))}var E=a(17),k=a(121),y=a(122),w=a(120),O=a(114),j=a(118),x=a(116),C=a(115),I=a(119),N=a(117),S=a(124),_=a(50),M=a.n(_),P=a(5),W=Object(h.a)((function(e){return{card:{width:345},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},cardContent:{paddingBottom:"0.1%"},popoverPadding:{padding:e.spacing(2)}}}));function z(e){var t=W(),a=o.a.useState(!1),n=Object(E.a)(a,2),r=n[0],c=n[1],i=o.a.useState(null),s=Object(E.a)(i,2),u=s[0],h=s[1],p=o.a.useState(null),f=Object(E.a)(p,2),g=f[0],v=f[1],b=o.a.useState(!1),k=Object(E.a)(b,2),y=k[0],_=k[1],z=e.venue,D=e.checkins,T=moment().subtract(12,"hours").toDate(),A=moment().subtract(1,"week").toDate(),F=0;o.a.useEffect((function(){D.filter((function(e){return e.timestamp>T})).length,F=D.filter((function(e){return e.timestamp>A})).length}),[D,z]);var J=function(e){window.open("https://lmgtfy.com/?q=".concat(z.friendly_addr.replace(" ","_"),"&s=g"))},R=Boolean(u),V=R?"simple-popover":void 0,q=Boolean(g),H=q?"simple-popover":void 0;return console.log(F),o.a.createElement(O.a,{className:t.card},o.a.createElement(C.a,{component:"img",alt:z.name,height:"140",image:z.cover_photo,title:z.name}),o.a.createElement(x.a,{className:t.cardContent},o.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},z.name),o.a.createElement(d.a,{variant:"body2",color:"textSecondary"},"Daily: ".concat(y?z.checkins_day+1:z.checkins_day,"\tWeekly: ").concat(y?z.checkins_week+1:z.checkins_week))),o.a.createElement(N.a,{in:r,timeout:"auto",unmountOnExit:!0},o.a.createElement(x.a,null,o.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},z.blurb),o.a.createElement(d.a,{variant:"body1",color:"textSecondary",component:"p"},z.friendly_addr))),o.a.createElement(j.a,null,o.a.createElement(I.a,{size:"small",variant:"contained",color:y?"default":"primary",onClick:function(e){var t;y||(_(!0),v(e.currentTarget),t=z.id,G.collection("venues").doc(t).collection("checkins").add({user_uid:L,timestamp:B.firestore.FieldValue.serverTimestamp()}).then((function(){console.log("Check-in Successful!")})))}},"Check In"),o.a.createElement(S.a,{id:H,open:q,anchorEl:g,onClose:function(){v(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(d.a,{className:t.popoverPadding},"Thanks for checking in!")),o.a.createElement(I.a,{size:"small",variant:"contained",color:"primary","aria-describedby":V,onClick:function(e){h(e.currentTarget)}},"Open With..."),o.a.createElement(S.a,{id:V,open:R,anchorEl:u,onClose:function(){h(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(w.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},["Apple Maps","Google Maps","Uber","Lyft","Yelp"].map((function(e){return o.a.createElement(w.a,{item:!0,key:e},o.a.createElement(I.a,{color:"primary",className:t.popoverPadding,onClick:J},e))})))),o.a.createElement(m.a,{className:Object(P.a)(t.expand,Object(l.a)({},t.expandOpen,r)),onClick:function(){c(!r)},"aria-expanded":r,"aria-label":"show more"},o.a.createElement(M.a,null))))}var D=Object(h.a)((function(e){return{hideOverflow:{margin:0,width:"100%"}}}));function T(e){var t=D();return console.log(e.data),o.a.createElement(w.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:4,className:t.hideOverflow},e.data.map((function(e){return o.a.createElement(w.a,{item:!0,key:e.venue.id,xs:12,sm:6,md:4},o.a.createElement(z,{venue:e.venue,checkins:e.checkins}))})))}var B=a(18);a(79);var L=void 0,A=!1;setInterval((function(){A||B.app()&&(A=!0,B.auth().signInAnonymously().catch((function(e){console.error(e.code+": "+e.message)})),B.auth().onAuthStateChanged((function(e){e&&(L=e.uid)})))}),100);var F=Object(h.a)((function(e){return{heroContent:{padding:e.spacing(1,0,2),maxWidth:"100%"},load:{align:"center",paddingTop:5}}}));B.initializeApp({apiKey:"AIzaSyDkr4-pv5Hf84JmJiOaNl9T9vqDR-D6fNQ",authDomain:"devfest-24557.firebaseapp.com",projectId:"devfest-24557",appId:"1:205291993209:web:00bcf099bae983c9953ca8",measurementId:"G-2V3TFV6VNX"}),B.analytics();var G=B.firestore();function J(){var e=F(),t=o.a.useState(null),a=Object(E.a)(t,2),n=a[0],r=a[1],c=o.a.useState(!0),i=Object(E.a)(c,2),l=i[0],s=i[1];return o.a.useEffect((function(){var e=0,t=0;navigator.geolocation.getCurrentPosition((function(a){e=a.coords.latitude?a.coords.latitude:0,t=a.coords.longitude?a.coords.longitude:0})),G.collection("venues").get().then((function(a){var n=[];a.forEach((function(a){var o=a.data().location;if(function(e,t,a,n){if(e===a&&t===n)return 0;var o=Math.PI*e/180,r=Math.PI*a/180,c=t-n,i=Math.PI*c/180,l=Math.sin(o)*Math.sin(r)+Math.cos(o)*Math.cos(r)*Math.cos(i);return l>1&&(l=1),l=60*(l=180*(l=Math.acos(l))/Math.PI)*1.1515,l*=.99999969062}(o.latitude,o.longitude,e,t)<15){var r={venue:a.data(),checkins:[]};r.venue.id=a.id,G.collection("venues/".concat(a.id,"/checkins")).get().then((function(e){e.forEach((function(e){r.checkins.push(e.data())}))})),n.push(r)}})),r(n),s(!1)}))}),[]),l?o.a.createElement(y.a,{className:e.load}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.heroContent},o.a.createElement(k.a,{maxWidth:"sm"},o.a.createElement(d.a,{component:"h5",variant:"h6",align:"center",color:"textPrimary",gutterBottom:!0},"Welcome to Hot List!"),o.a.createElement(d.a,{variant:"body1",align:"center",color:"textSecondary",paragraph:!0},"This should be a blurb that says something like \"Looking for something quiet or something loud? We've got it below. Don't forget to check in!\" but sounds better."))),o.a.createElement(T,{data:n.sort((function(e,t){return e.venue.checkins_day<t.venue.checkins_day?1:e.venue.checkins_day===t.venue.checkins_day?1:-1}))}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement((function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,null),o.a.createElement(b,null),o.a.createElement(J,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.bdc30a77.chunk.js.map